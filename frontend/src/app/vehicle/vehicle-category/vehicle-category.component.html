<div class="container">
  <h2>Vehicle Categories</h2>

  <table class="vehicle-categories-table">
    <thead>
      <tr>
        <th>Category Name</th>
        <th>Description</th>
        <th>Icon</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let category of vehicleCategories; let i = index">
        <td>{{ category.name }}</td>
        <td>{{ category.description }}</td>
        <td>
          <img
            [src]="'data:image/png;base64,' + category.vehicleCategoryIconBase64"
            alt="Icon"
            class="category-icon"
          />
        </td>
        <td>
          <button (click)="editCategory(category)">Edit</button>
          <button (click)="deleteCategory(category.id!)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="add-category-form">
    <h3>{{ editMode ? 'Edit Category' : 'Add New Category' }}</h3>
    <form (ngSubmit)="saveCategory()">
      <label for="categoryName">Category Name:</label>
      <input
        type="text"
        id="categoryName"
        [(ngModel)]="newCategory.name"
        name="categoryName"
        required
      />

      <label for="categoryDescription">Category Description:</label>
      <input
        type="text"
        id="categoryDescription"
        [(ngModel)]="newCategory.description"
        name="categoryDescription"
        required
      />

      <label for="categoryIcon">Category Icon:</label>
      <input
        type="file"
        id="categoryIcon"
        (change)="onIconChange($event)"
        name="categoryIcon"
        [required]="!editMode"
      />

      <button type="submit">{{ editMode ? 'Update Category' : 'Save Category' }}</button>
    </form>
  </div>
</div>

<div class="container d-flex align-items-center">
  <button type="button" class="btn btn-primary btn-sm">
    <a href="http://localhost:4200/vehicle/dashboard" class="btn-link">Back</a>
  </button>
</div>